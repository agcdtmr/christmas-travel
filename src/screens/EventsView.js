import { ImageStore, StyleSheet, Text, View, ScrollView, TextInput } from 'react-native'
import axios from 'axios'
import { useEffect, useState } from 'react'
import { ItemView } from '../components/ItemView'
import { API_BASE_URL } from '@env'
import { FlatList } from 'react-native-gesture-handler'
import { Appbar, Searchbar } from 'react-native-paper'

////////////mocked data
const mockEvents = {
  event_list: [
    {
      _type: 'destination_event',
      checkout_flow: 'widget',
      eid: '474877359967',
      end_date: '2022-12-18',
      end_time: '18:00',
      eventbrite_event_id: '474877359967',
      full_description: null,
      hide_end_date: false,
      hide_start_date: false,
      id: '474877359967',
      image_id: '399562189',
      is_cancelled: null,
      is_online_event: false,
      is_protected_event: false,
      language: 'en-au',
      name: 'ChristmasVille ',
      num_children: null,
      parent_url: null,
      primary_organizer_id: '54467007723',
      primary_venue_id: '126582049',
      published: '2022-11-25T00:27:17Z',
      series_id: null,
      start_date: '2022-12-18',
      start_time: '14:00',
      summary: 'A fun-filled kids Christmas event!',
      tickets_by: 'Eventbrite',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=474877359967',
      timezone: 'Australia/Sydney',
      url: 'https://www.eventbrite.com.au/e/christmasville-tickets-474877359967',
    },
    {
      _type: 'destination_event',
      checkout_flow: 'widget',
      eid: '466593332217',
      end_date: '2022-12-17',
      end_time: '22:00',
      eventbrite_event_id: '466593332217',
      full_description: null,
      hide_end_date: false,
      hide_start_date: false,
      id: '466593332217',
      image_id: '391959959',
      is_cancelled: null,
      is_online_event: false,
      is_protected_event: false,
      language: 'en-us',
      name: 'CHRISTMAS EXTRAVAGANZA, A CHRISTMAS CELEBRATION WITH CHRISTMAS SONGS',
      num_children: null,
      parent_url: null,
      primary_organizer_id: '24567273486',
      primary_venue_id: '124313059',
      published: '2022-11-11T22:00:46Z',
      series_id: null,
      start_date: '2022-12-17',
      start_time: '18:00',
      summary:
        'A special night of food and music with your favorite Christmas songs, Mr. Charles Lynwood Jones/ Mr. Randolph Lindsey,Mrs. Yolanda McClendon',
      tickets_by: 'Eventbrite',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=466593332217',
      timezone: 'America/New_York',
      url: 'https://www.eventbrite.com/e/christmas-extravaganza-a-christmas-celebration-with-christmas-songs-tickets-466593332217',
    },
    {
      _type: 'destination_event',
      checkout_flow: 'widget',
      eid: '449916541487',
      end_date: '2022-12-16',
      end_time: '20:30',
      eventbrite_event_id: '449916541487',
      full_description: null,
      hide_end_date: false,
      hide_start_date: false,
      id: '449916541487',
      image_id: '379884149',
      is_cancelled: null,
      is_online_event: false,
      is_protected_event: false,
      language: 'en-us',
      name: 'A Luminous Christmas: Christmas Classics',
      num_children: null,
      parent_url: 'https://www.eventbrite.com.au/e/a-luminous-christmas-christmas-classics-tickets-449916481307',
      primary_organizer_id: '11934490710',
      primary_venue_id: '120740239',
      published: '2022-10-27T04:36:38Z',
      series_id: '449916481307',
      start_date: '2022-12-16',
      start_time: '19:00',
      summary: 'The most beautiful carols from around the world bundled into one heavenly hour.',
      tickets_by: 'Eventbrite',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=449916541487',
      timezone: 'Australia/Sydney',
      url: 'https://www.eventbrite.com.au/e/a-luminous-christmas-christmas-classics-tickets-449916541487',
    },
    {
      _type: 'destination_event',
      checkout_flow: 'widget',
      eid: '469669071837',
      end_date: '2022-12-21',
      end_time: '12:00',
      eventbrite_event_id: '469669071837',
      full_description: null,
      hide_end_date: false,
      hide_start_date: false,
      id: '469669071837',
      image_id: '395083279',
      is_cancelled: null,
      is_online_event: false,
      is_protected_event: false,
      language: 'en-au',
      name: 'Christmas Workshop: Christmas Village',
      num_children: null,
      parent_url: null,
      primary_organizer_id: '38105070323',
      primary_venue_id: '125278339',
      published: '2022-11-18T03:30:11Z',
      series_id: null,
      start_date: '2022-12-21',
      start_time: '10:00',
      summary: 'Suitable age 6+  Children will make a Christmas themed town. Morning Tea provided. Drop and go',
      tickets_by: 'Eventbrite',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=469669071837',
      timezone: 'Australia/Brisbane',
      url: 'https://www.eventbrite.com.au/e/christmas-workshop-christmas-village-tickets-469669071837',
    },
    {
      _type: 'destination_event',
      checkout_flow: 'widget',
      eid: '482351395007',
      end_date: '2022-12-18',
      end_time: '19:00',
      eventbrite_event_id: '482351395007',
      full_description: null,
      hide_end_date: false,
      hide_start_date: false,
      id: '482351395007',
      image_id: '405504639',
      is_cancelled: null,
      is_online_event: false,
      is_protected_event: false,
      language: 'en-us',
      name: 'Christmas Market Leipzig',
      num_children: null,
      parent_url: null,
      primary_organizer_id: '57993280043',
      primary_venue_id: null,
      published: '2022-12-06T12:54:49Z',
      series_id: null,
      start_date: '2022-12-18',
      start_time: '12:00',
      summary:
        'Hey International Students Halle, DEGIS City Chapter is Hosting their first event-Register-Limited slots only',
      tickets_by: 'Eventbrite',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=482351395007',
      timezone: 'Europe/Berlin',
      url: 'https://www.eventbrite.com/e/christmas-market-leipzig-tickets-482351395007',
    },
    {
      timezone: 'America/Chicago',
      id: '478295684267',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=478295684267',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '37777926233',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: true,
      start_date: '2022-12-25',
      end_time: '23:30',
      _type: 'destination_event',
      end_date: '2022-12-25',
      eventbrite_event_id: '478295684267',
      start_time: '07:00',
      full_description: null,
      image_id: '405660149',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: null,
      checkout_flow: 'widget',
      series_id: null,
      name: 'Christmas Experience',
      language: 'en-us',
      url: 'https://www.eventbrite.com/e/christmas-experience-tickets-478295684267',
      hide_start_date: false,
      summary:
        'We’ve planned a fun and meaningful Christmas experience for you, your family and friends to engage with at your convenience Christmas Day!',
      is_online_event: true,
      eid: '478295684267',
      published: '2022-11-30T17:34:27Z',
    },
    {
      timezone: 'Europe/London',
      id: '467441609437',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=467441609437',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '1542421900',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-14',
      end_time: '18:00',
      _type: 'destination_event',
      end_date: '2022-12-14',
      eventbrite_event_id: '467441609437',
      start_time: '16:30',
      full_description: null,
      image_id: '392841199',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: null,
      checkout_flow: 'widget',
      series_id: null,
      name: 'Christmas Event',
      language: 'en-gb',
      url: 'https://www.eventbrite.co.uk/e/christmas-event-tickets-467441609437',
      hide_start_date: false,
      summary: "It's the time of year for some fun, learning and honesty...or is it?!",
      is_online_event: true,
      eid: '467441609437',
      published: '2022-11-14T10:43:10Z',
    },
    {
      timezone: 'Europe/London',
      id: '466325150077',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=466325150077',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '13787176359',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-20',
      end_time: '19:00',
      _type: 'destination_event',
      end_date: '2022-12-20',
      tags: [],
      eventbrite_event_id: '466325150077',
      start_time: '18:00',
      full_description: null,
      image_id: '391719339',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: null,
      checkout_flow: 'widget',
      series_id: null,
      name: 'Christmas Singalong',
      language: 'en-gb',
      url: 'https://www.eventbrite.com/e/christmas-singalong-tickets-466325150077',
      hide_start_date: false,
      summary: 'Free Christmas Singalong session',
      is_online_event: true,
      eid: '466325150077',
      published: '2022-11-11T15:49:35Z',
    },
    {
      timezone: 'Europe/London',
      id: '459928547667',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=459928547667',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '55473896953',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: 'https://www.eventbrite.com/e/christmas-markets-tickets-459928256797',
      hide_end_date: false,
      start_date: '2022-12-18',
      end_time: '17:00',
      _type: 'destination_event',
      end_date: '2022-12-18',
      eventbrite_event_id: '459928547667',
      start_time: '11:00',
      full_description: null,
      image_id: '385281549',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '122540529',
      checkout_flow: 'widget',
      series_id: '459928256797',
      name: 'Christmas Markets',
      language: 'en-gb',
      url: 'https://www.eventbrite.com/e/christmas-markets-tickets-459928547667',
      hide_start_date: false,
      summary:
        'The Haberdashery is bringing you our first series of Christmas Markets in collaboration with @sistersister_glasgow',
      is_online_event: false,
      eid: '459928547667',
      published: '2022-11-02T10:10:08Z',
    },
    {
      timezone: 'Europe/London',
      id: '469142857917',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=469142857917',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '33506032847',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: 'https://www.eventbrite.co.uk/e/edinburgh-christmas-markets-tickets-469138876007',
      hide_end_date: false,
      start_date: '2022-12-18',
      end_time: '21:45',
      _type: 'destination_event',
      end_date: '2022-12-18',
      eventbrite_event_id: '469142857917',
      start_time: '21:00',
      full_description: null,
      image_id: '394591149',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: null,
      checkout_flow: 'widget',
      series_id: '469138876007',
      name: 'Edinburgh Christmas Markets',
      language: 'en-us',
      url: 'https://www.eventbrite.co.uk/e/edinburgh-christmas-markets-tickets-469142857917',
      hide_start_date: false,
      summary:
        'World-renowned Edinburgh’s Christmas celebrations spread the festive cheer across the Scottish capital between 25th November 2022 and 3rd January 2023.',
      is_online_event: true,
      eid: '469142857917',
      published: '2022-11-16T14:39:15Z',
    },
    {
      timezone: 'Europe/London',
      id: '425347193907',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=425347193907',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '33506032847',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: 'https://www.eventbrite.co.uk/e/salzburg-christmas-market-tickets-422195095897',
      hide_end_date: false,
      start_date: '2022-12-28',
      end_time: '15:30',
      _type: 'destination_event',
      end_date: '2022-12-28',
      eventbrite_event_id: '425347193907',
      start_time: '15:00',
      full_description: null,
      image_id: '356617649',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: null,
      checkout_flow: 'widget',
      series_id: '422195095897',
      name: 'Salzburg Christmas Market',
      language: 'en-us',
      url: 'https://www.eventbrite.co.uk/e/salzburg-christmas-market-tickets-425347193907',
      hide_start_date: false,
      summary:
        "The Salzburg Christkindlmarkt has deep historical roots and is one of the world’s oldest Advent markets. Salzburg's Christmas markets are as romantic as they come.",
      is_online_event: true,
      eid: '425347193907',
      published: '2022-09-18T22:57:19Z',
    },
    {
      timezone: 'Europe/London',
      id: '485457886607',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=485457886607',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '33506032847',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: 'https://www.eventbrite.co.uk/e/vancouver-christmas-market-tickets-485457866547',
      hide_end_date: false,
      start_date: '2022-12-16',
      end_time: '03:15',
      _type: 'destination_event',
      end_date: '2022-12-16',
      eventbrite_event_id: '485457886607',
      start_time: '02:15',
      full_description: null,
      image_id: '408120589',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: null,
      checkout_flow: 'widget',
      series_id: '485457866547',
      name: 'Vancouver Christmas Market',
      language: 'en-us',
      url: 'https://www.eventbrite.co.uk/e/vancouver-christmas-market-tickets-485457886607',
      hide_start_date: false,
      summary:
        'A beloved holiday tradition! Delight in a wonderland of authentic German sweets, treats & treasures at the Vancouver Christmas Market.',
      is_online_event: true,
      eid: '485457886607',
      published: '2022-12-11T17:11:59Z',
    },
    {
      timezone: 'Europe/London',
      id: '422475083347',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=422475083347',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '33506032847',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: 'https://www.eventbrite.co.uk/e/christmas-market-combo-tickets-422475033197',
      hide_end_date: false,
      start_date: '2022-12-24',
      end_time: '15:45',
      _type: 'destination_event',
      end_date: '2022-12-24',
      eventbrite_event_id: '422475083347',
      start_time: '15:00',
      full_description: null,
      image_id: '356854189',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: null,
      checkout_flow: 'widget',
      series_id: '422475033197',
      name: 'Christmas Market Combo',
      language: 'en-us',
      url: 'https://www.eventbrite.co.uk/e/christmas-market-combo-tickets-422475083347',
      hide_start_date: false,
      summary:
        'Check out our combo christmas selection for the very best in unique or custom, handmade pieces from our shops.',
      is_online_event: true,
      eid: '422475083347',
      published: '2022-09-19T12:58:45Z',
    },
    {
      timezone: 'Europe/London',
      id: '474216282667',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=474216282667',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '33506032847',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: 'https://www.eventbrite.co.uk/e/christmas-market-in-haifa-tickets-474216262607',
      hide_end_date: false,
      start_date: '2022-12-22',
      end_time: '16:30',
      _type: 'destination_event',
      end_date: '2022-12-22',
      eventbrite_event_id: '474216282667',
      start_time: '15:30',
      full_description: null,
      image_id: '398866989',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: null,
      checkout_flow: 'widget',
      series_id: '474216262607',
      name: 'Christmas Market in Haifa',
      language: 'en-us',
      url: 'https://www.eventbrite.co.uk/e/christmas-market-in-haifa-tickets-474216282667',
      hide_start_date: false,
      summary:
        'The Holiday of Holidays is an annual celebration of the religious and cultural diversity of the city of Haifa in the north of Israel.',
      is_online_event: true,
      eid: '474216282667',
      published: '2022-11-23T16:49:48Z',
    },
    {
      timezone: 'Europe/London',
      id: '429903572157',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=429903572157',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '54498194513',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: 'https://www.eventbrite.com/e/a-christmas-carol-tickets-429902769757',
      hide_end_date: true,
      start_date: '2022-12-16',
      end_time: '21:30',
      _type: 'destination_event',
      end_date: '2022-12-16',
      eventbrite_event_id: '429903572157',
      start_time: '19:00',
      full_description: null,
      image_id: '364677489',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '117069179',
      checkout_flow: 'widget',
      series_id: '429902769757',
      name: 'A Christmas Carol',
      language: 'en-gb',
      url: 'https://www.eventbrite.com/e/a-christmas-carol-tickets-429903572157',
      hide_start_date: false,
      summary:
        'People in the audience hold lit candles and join in singing some of the carols in accompaniment with the celebrities.',
      is_online_event: false,
      eid: '429903572157',
      published: '2022-09-30T19:28:54Z',
    },
    {
      timezone: 'Europe/London',
      id: '442305205777',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=442305205777',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '34129710241',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-22',
      end_time: '19:00',
      _type: 'destination_event',
      end_date: '2022-12-22',
      eventbrite_event_id: '442305205777',
      start_time: '17:00',
      full_description: null,
      image_id: '374040619',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '119350419',
      checkout_flow: 'widget',
      series_id: null,
      name: 'Christmas Carols',
      language: 'en-gb',
      url: 'https://www.eventbrite.co.uk/e/christmas-carols-tickets-442305205777',
      hide_start_date: false,
      summary: 'Join us for a bit of festive fun with Christmas Carols featuring the multi-talented Tricia Rosas!',
      is_online_event: false,
      eid: '442305205777',
      published: '2022-10-15T10:17:35Z',
    },
    {
      timezone: 'Europe/London',
      id: '476423945847',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=476423945847',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '38096238933',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: true,
      start_date: '2022-12-15',
      end_time: '20:00',
      _type: 'destination_event',
      end_date: '2022-12-15',
      eventbrite_event_id: '476423945847',
      start_time: '18:00',
      full_description: null,
      image_id: '400834579',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '126914299',
      checkout_flow: 'widget',
      series_id: null,
      name: 'Christmas Concert',
      language: 'en-gb',
      url: 'https://www.eventbrite.co.uk/e/christmas-concert-tickets-476423945847',
      hide_start_date: false,
      summary: 'Our Christmas Concert, full of seasonal songs and music.',
      is_online_event: false,
      eid: '476423945847',
      published: '2022-11-28T13:37:45Z',
    },
    {
      timezone: 'Europe/London',
      id: '450476737047',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=450476737047',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '55623033653',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-18',
      end_time: '17:30',
      _type: 'destination_event',
      end_date: '2022-12-18',
      eventbrite_event_id: '450476737047',
      start_time: '14:30',
      full_description: null,
      image_id: '379930809',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '120784019',
      checkout_flow: 'widget',
      series_id: null,
      name: 'The Christmas Concert',
      language: 'en-gb',
      url: 'https://www.eventbrite.co.uk/e/the-christmas-concert-tickets-450476737047',
      hide_start_date: false,
      summary:
        'The ONLY Christmas Concert YOU need this Christmas! There will be Beautiful music, Glorious Singing and AMAZING Homemade Cakes and WINE!',
      is_online_event: false,
      eid: '450476737047',
      published: '2022-10-25T12:21:24Z',
    },
    {
      timezone: 'Europe/London',
      id: '416631575257',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=416631575257',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '53262091943',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: 'https://www.eventbrite.com/e/christmas-the-book-farm-tickets-416630612377',
      hide_end_date: false,
      start_date: '2022-12-13',
      end_time: '21:00',
      _type: 'destination_event',
      end_date: '2022-12-13',
      eventbrite_event_id: '416631575257',
      start_time: '17:30',
      full_description: null,
      image_id: '360854909',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '113728749',
      checkout_flow: 'widget',
      series_id: '416630612377',
      name: 'Christmas @ the Book Farm',
      language: 'en-us',
      url: 'https://www.eventbrite.com/e/christmas-the-book-farm-tickets-416631575257',
      hide_start_date: false,
      summary:
        'Christmas evening @ the book farm, with live music, market stalls and 15% off bookshop purchases. Including mulled wine and turkey roll.',
      is_online_event: false,
      eid: '416631575257',
      published: '2022-09-25T18:40:45Z',
    },
    {
      timezone: 'America/Toronto',
      id: '407305470627',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=407305470627',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '31532975453',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-18',
      end_time: '21:00',
      _type: 'destination_event',
      end_date: '2022-12-18',
      eventbrite_event_id: '407305470627',
      start_time: '11:00',
      full_description: null,
      image_id: '380540959',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '111160889',
      checkout_flow: 'widget',
      series_id: null,
      name: 'Christmas Market 2022',
      language: 'en-ca',
      url: 'https://www.eventbrite.ca/e/christmas-market-2022-tickets-407305470627',
      hide_start_date: false,
      summary:
        'Cocktail International & DreamMedia agency presents Christmas Market in GTA at Courtyard by Marriott Toronto-Brampton on December 18 , 2022.',
      is_online_event: false,
      eid: '407305470627',
      published: '2022-08-24T10:44:44Z',
    },
    {
      timezone: 'America/Toronto',
      id: '477585189157',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=477585189157',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '33068503431',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-15',
      end_time: '20:00',
      _type: 'destination_event',
      end_date: '2022-12-15',
      tags: [],
      eventbrite_event_id: '477585189157',
      start_time: '18:00',
      full_description: null,
      image_id: '401951029',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '127216179',
      checkout_flow: 'widget',
      series_id: null,
      name: 'Christmas Market',
      language: 'en-us',
      url: 'https://www.eventbrite.ca/e/christmas-market-tickets-477585189157',
      hide_start_date: false,
      summary: 'Social gathering at Distillery District Christmas Market on Thursday, Dec 15th at 6 pm.',
      is_online_event: false,
      eid: '477585189157',
      published: '2022-11-29T21:50:37Z',
    },
    {
      timezone: 'Europe/London',
      id: '444047757797',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=444047757797',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '20229697518',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: 'https://www.eventbrite.co.uk/e/the-hackney-christmas-market-tickets-444047256297',
      hide_end_date: false,
      start_date: '2022-12-16',
      end_time: '22:00',
      _type: 'destination_event',
      end_date: '2022-12-16',
      eventbrite_event_id: '444047757797',
      start_time: '18:00',
      full_description: null,
      image_id: '375614929',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '119722839',
      checkout_flow: 'widget',
      series_id: '444047256297',
      name: 'The Hackney Christmas Market',
      language: 'en-gb',
      url: 'https://www.eventbrite.co.uk/e/the-hackney-christmas-market-tickets-444047757797',
      hide_start_date: false,
      summary: 'The Hackney Christmas Market returns to spread its magic on Bohemia Place this Winter!',
      is_online_event: false,
      eid: '444047757797',
      published: '2022-10-18T12:56:06Z',
    },
    {
      timezone: 'Europe/Paris',
      id: '443406238997',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=443406238997',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '54330982163',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-18',
      end_time: '19:00',
      _type: 'destination_event',
      end_date: '2022-12-18',
      eventbrite_event_id: '443406238997',
      start_time: '11:00',
      full_description: null,
      image_id: '374991469',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '119574939',
      checkout_flow: 'widget',
      series_id: null,
      name: 'Christmas market',
      language: 'en-gb',
      url: 'https://www.eventbrite.fr/e/christmas-market-tickets-443406238997',
      hide_start_date: false,
      summary: 'Christmas market at the chateau',
      is_online_event: false,
      eid: '443406238997',
      published: '2022-10-17T17:41:42Z',
    },
    {
      timezone: 'Europe/Paris',
      id: '481509296267',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=481509296267',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '40696151813',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-15',
      end_time: '22:00',
      _type: 'destination_event',
      end_date: '2022-12-15',
      eventbrite_event_id: '481509296267',
      start_time: '20:00',
      full_description: null,
      image_id: '404776809',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '127958029',
      checkout_flow: 'widget',
      series_id: null,
      name: 'Let It Burn | Christmas Comedy Roast',
      language: 'en-us',
      url: 'https://www.eventbrite.com/e/let-it-burn-christmas-comedy-roast-tickets-481509296267',
      hide_start_date: false,
      summary: 'English Stand Up Comedy Special',
      is_online_event: false,
      eid: '481509296267',
      published: '2022-12-05T11:40:26Z',
    },
    {
      timezone: 'Europe/Paris',
      id: '481542335087',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=481542335087',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '40696151813',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-22',
      end_time: '22:00',
      _type: 'destination_event',
      end_date: '2022-12-22',
      eventbrite_event_id: '481542335087',
      start_time: '20:00',
      full_description: null,
      image_id: '406155569',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '127964949',
      checkout_flow: 'widget',
      series_id: null,
      name: 'Christmas with Marvin Parks | Comedy Special',
      language: 'en-us',
      url: 'https://www.eventbrite.com/e/christmas-with-marvin-parks-comedy-special-tickets-481542335087',
      hide_start_date: false,
      summary: 'English Stand Up Comedy Music and Games',
      is_online_event: false,
      eid: '481542335087',
      published: '2022-12-07T11:26:47Z',
    },
    {
      timezone: 'Europe/Paris',
      id: '456416172057',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=456416172057',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '29074509821',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-19',
      end_time: '17:00',
      _type: 'destination_event',
      end_date: '2022-12-23',
      eventbrite_event_id: '456416172057',
      start_time: '09:00',
      full_description: null,
      image_id: '396521879',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '121543369',
      checkout_flow: 'widget',
      series_id: null,
      name: "Stage d'anglais 'Happy Christmas''",
      language: 'fr-fr',
      url: 'https://www.eventbrite.fr/e/billets-stage-danglais-happy-christmas-456416172057',
      hide_start_date: false,
      summary: "UNE SEMAINE D'IMMERSION EN STAGE EN ANGLAIS  19-23 decembre",
      is_online_event: false,
      eid: '456416172057',
      published: '2022-10-30T20:19:31Z',
    },
    {
      timezone: 'Europe/Paris',
      id: '482298647237',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=482298647237',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '3091457776',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-15',
      end_time: '01:00',
      _type: 'destination_event',
      end_date: '2022-12-16',
      eventbrite_event_id: '482298647237',
      start_time: '19:30',
      full_description: null,
      image_id: '408095719',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '128808189',
      checkout_flow: 'widget',
      series_id: null,
      name: 'An Afterwork Christmas Party',
      language: 'en-us',
      url: 'https://www.eventbrite.com/e/an-afterwork-christmas-party-tickets-482298647237',
      hide_start_date: false,
      summary: 'Another night out to meet up and spend time with Paris-based expats',
      is_online_event: false,
      eid: '482298647237',
      published: '2022-12-06T10:19:55Z',
    },
    {
      timezone: 'Europe/Paris',
      id: '478153519047',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=478153519047',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '8971083054',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-16',
      end_time: '01:00',
      _type: 'destination_event',
      end_date: '2022-12-17',
      eventbrite_event_id: '478153519047',
      start_time: '20:30',
      full_description: null,
      image_id: '402349619',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '127316479',
      checkout_flow: 'widget',
      series_id: null,
      name: 'Christmas Party',
      language: 'fr-fr',
      url: 'https://www.eventbrite.fr/e/billets-christmas-party-478153519047',
      hide_start_date: false,
      summary: 'La rumeur se répand à Paris en ce moment : une fête secrète s’organise le vendredi 16 décembre.',
      is_online_event: false,
      eid: '478153519047',
      published: '2022-11-30T14:23:40Z',
    },
    {
      timezone: 'Asia/Manila',
      id: '481378916297',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=481378916297',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '57912438083',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-14',
      end_time: '17:00',
      _type: 'destination_event',
      end_date: '2022-12-14',
      eventbrite_event_id: '481378916297',
      start_time: '14:00',
      full_description: null,
      image_id: '405377539',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '127922479',
      checkout_flow: 'widget',
      series_id: null,
      name: '2022 Christmas Celebration: Tara, Ibalik ang Pasko sa Eskwelahan',
      language: 'en-us',
      url: 'https://www.eventbrite.com/e/2022-christmas-celebration-tara-ibalik-ang-pasko-sa-eskwelahan-tickets-481378916297',
      hide_start_date: false,
      summary: 'The University Christmas Party is an annual event to celebrate the season.',
      is_online_event: false,
      eid: '481378916297',
      published: '2022-12-05T02:54:19Z',
    },
    {
      timezone: 'Asia/Manila',
      id: '482542807527',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=482542807527',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '58010741423',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: null,
      hide_end_date: false,
      start_date: '2022-12-23',
      end_time: '22:00',
      _type: 'destination_event',
      end_date: '2022-12-23',
      eventbrite_event_id: '482542807527',
      start_time: '18:00',
      full_description: null,
      image_id: '405697619',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '128203079',
      checkout_flow: 'widget',
      series_id: null,
      name: 'Elijah Christmas Party',
      language: 'en-ca',
      url: 'https://www.eventbrite.com/e/elijah-christmas-party-tickets-482542807527',
      hide_start_date: false,
      summary:
        'It has been a long year of continuous hard work. Now that Christmas is approaching, let us have fun and relax',
      is_online_event: false,
      eid: '482542807527',
      published: '2022-12-06T17:53:04Z',
    },
    {
      timezone: 'America/New_York',
      id: '480251464057',
      tickets_url: 'https://www.eventbrite.com/checkout-external?eid=480251464057',
      tickets_by: 'Eventbrite',
      primary_organizer_id: '11934905594',
      dedup: {},
      num_children: null,
      debug_info: {},
      parent_url: 'https://www.eventbrite.com/e/christmas-bloody-christmas-byob-tickets-480251383817',
      hide_end_date: false,
      start_date: '2022-12-15',
      end_time: '20:30',
      _type: 'destination_event',
      end_date: '2022-12-15',
      eventbrite_event_id: '480251464057',
      start_time: '19:00',
      full_description: null,
      image_id: '404086729',
      is_protected_event: false,
      is_cancelled: null,
      primary_venue_id: '127782469',
      checkout_flow: 'widget',
      series_id: '480251383817',
      name: 'Christmas Bloody Christmas (BYOB)',
      language: 'en-us',
      url: 'https://www.eventbrite.com/e/christmas-bloody-christmas-byob-tickets-480251464057',
      hide_start_date: false,
      summary: 'HOLIDAY HORROR MOVIE. BYOB SCREENING',
      is_online_event: false,
      eid: '480251464057',
      published: '2022-12-03T01:31:10Z',
    },
  ],
  query: ['christmas event', 'christmas concert', 'volunteer christmas', 'christmas party', 'christmas lights'],
}

export function EventsView() {
  // const [events, setEvents] = useState([])

  const [search, setSearch] = useState('')
  const [filteredEvents, setFilteredEvents] = useState([])
  const [masterEvents, setMasterEvents] = useState([])

  useEffect(() => {
    console.log('setting event')
    setFilteredEvents(mockEvents.event_list)
    setMasterEvents(mockEvents.event_list)
  }, [])

  const searchFilteredEvents = (text) => {
    if (text) {
      const newData = masterEvents.filter(function (item) {
        const itemData = item.name
        // ?item.title.toUpperCase()
        // : "".toUpperCase();
        const textData = text.toUpperCase()
        return itemData.indexOf(textData) > -1
      })
      setFilteredEvents(newData)
      setSearch(text)
    } else {
      setFilteredEvents(masterEvents)
      setSearch(text)
    }
  }

  ////////////////////// uing mocked data due to api endpoint issue so skipping this stage

  // useEffect(()=> {
  //   axios({
  //     method: 'get',
  //     url: `${API_BASE_URL}?place_id=85633337&q=christmas&completion_types=event%2Cquery&expand.destination_event=primary_venue%2Cimage`
  //   }).then((response) => {
  //     console.log (response.data)
  //     setEvents(response.data.event)
  //   })
  //   .catch(error => console.log('error', error))
  // }, [])

  ////////////////////

  return (
    <View style={styles.container}>
      <Searchbar
        placeholder="Search Events"
        value={search}
        onChangeText={(text) => searchFilteredEvents(text)}
        underlineColorAndroid="transparent"
      />

      <FlatList data={filteredEvents} keyExtractor={(item, index) => index.toString()} renderItem={ItemView} />

      {/* <Text style={styles.text}>Events length is:  {events.length}</Text>
        {events.map((event) => (
          <EventCard
            key={event.id} 
            location={event?.primary_venue?.address?.city}
            event_date={event?.start_date}
            event_time={event?.start_time}
            title={event?.name}
            short_description={event?.summary}
            // ToDo: url should link to eventbrite event, event_url={event.url}
            // ToDo: event_ticket={event.ticket}
          />
        ))} */}
    </View>
  )
}

const styles = StyleSheet.create({
  container: {
    padding: 60,
    flex: 1,
    backgroundColor: '#800B1A',
    // alignItems: 'center',
    // justifyContent: 'center',
  },
  text: {
    color: '#F5D68F',
    fontWeight: 'bold',
    fontSize: 20,
  },
  textInputStyle: {
    height: 40,
    borderWidth: 1,
    paddingLeft: 20,
    margin: 5,
    borderColor: '#009688',
    backgroundColor: '#FFFFFF',
    alignSelf: 'center',
    justifyContent: 'center',
  },
})
